<!doctype html>
<html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Livro</title>
<link rel="stylesheet" href="/css/style.css"/>
</head><body>
  <main id="book"></main>
  <script src="/js/app.js"></script>
  <script>
    async function load(){
      const params = new URLSearchParams(location.search);
      const id = params.get('id');
      const res = await fetch('/api/books/' + id);
      if(!res.ok){ document.getElementById('book').innerText='NÃ£o encontrado'; return; }
      const b = await res.json();
      document.getElementById('book').innerHTML = `
        <h1>${escapeHtml(b.title)}</h1>
        <p><strong>Autor:</strong> ${escapeHtml(b.author||'')}</p>
        <p>${escapeHtml(b.description||'')}</p>
        <p><a href="/i/${b.id}" class="btn">Download</a></p>
      `;
    }
    load();
  </script>
</body></html>